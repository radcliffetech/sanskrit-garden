export function StoryTopicSelectForm({
  selectedTopic,
  setSelectedTopic,
  handleStartStory,
  loading,
  topics,
}: {
  selectedTopic: string | null;
  setSelectedTopic: (topic: string) => void;
  handleStartStory: () => void;
  loading: boolean;
  topics: string[];
}) {
  return (
    <>
      <div className="flex flex-col md:flex-row items-center justify-center gap-3 w-full max-w-3xl mx-auto text-sm">
        <h2 className="text-xl font-light text-gray-500 whitespace-nowrap">Tell me a story &mdash; </h2>
        <select
          value={selectedTopic ?? ""}
          onChange={(e) => setSelectedTopic(e.target.value)}
          disabled={loading}
          className="appearance-none border border-gray-300 rounded-lg bg-white px-4 py-3 w-full md:w-auto text-lg focus:outline-none focus:ring-2 focus:ring-indigo-300 transition"
        >
          <option value="" disabled>Select a topic</option>
          {topics.map((topic) => (
            <option key={topic} value={topic}>
              {topic}
            </option>
          ))}
        </select>
        <button
          type="button"
          onClick={handleStartStory}
          disabled={loading || !selectedTopic}
          className={`btn-primary ${selectedTopic ? "" : "opacity-50 cursor-not-allowed"}`}
        >
          {loading ? "Thinking..." : "Start"}
        </button>
      </div>
      <div className="p-6 flex flex-col md:flex-row items-center justify-center gap-4 w-full max-w-3xl mx-auto text-sm text-gray-400">
        This story is generated by AI and may contain inaccuracies or omissions. While care is taken to guide its content, please read with curiosity and discretion.
      </div>
    </>
  );
}
